# ドキュメント作成規約

このファイルは、本プロジェクトで作成するすべてのコンポーネントドキュメントに共通する規約です。

## 1. 統一されたドキュメント形式

- Typography ドキュメントと同様の構造に従う
- `CodePreview`と`CodeBlock`を適切に使い分ける
  - `CodePreview`: 実際に実行可能なコード例（ユーザーが操作・体験できる）
  - `CodeBlock`: 説明用の静的コード例（実装方法の詳細解説）
- 実際のコンポーネント使用例を含める
- 段階的で詳細な説明を提供する

## 2. インタラクティブな例のベストプラクティス

- **体験 → 実装** の順序で説明する
  1. まず`CodePreview`で動作を体験させる
  2. 次に`CodeBlock`で実装コードを詳しく解説
- ボタンによる状態切り替えで学習効果を高める
- 実際の API フェッチをシミュレートした例を提供する
- ローディング時間は 2-3 秒程度に設定し体験しやすくする

## 3. CodePreview と CodeBlock の使い分け

### CodePreview

- すぐに動作確認したい基本的な例
- バリアントや設定の違いを比較する場合
- ユーザーが直接操作・体験できるコンテンツ

### CodeBlock

- 複雑な実装の詳細解説
- 実際のプロジェクトで使用する完全なコード例
- useState、useEffect などのフック使用例
- エラーハンドリングを含む実装例

## 4. コードインデントルール

- **一番親の要素は半角スペース 2 つ分のインデント**で統一する
- CodePreview、CodeBlock ともに表示に反映されるため、見やすさを重視
- ネストした要素は適切にインデントを追加する

### ✅ 正しいインデント例

```tsx
code={`
  <Component variant="primary" sx={{ fontSize: '1rem' }} />
  <Box>
    <ChildComponent width={40} height={40} />
  </Box>
`}
```

### ❌ 間違ったインデント例

```tsx
code={`
<Component variant="primary" sx={{ fontSize: '1rem' }} />
        <Box>
          <ChildComponent width={40} height={40} />
        </Box>
`}
```

## 5. 必須セクション構成

各コンポーネントドキュメントには以下のセクションを含めることを推奨します：

```
- 基本（バリアント説明）
- 従来との違い（該当する場合）
- 各機能の詳細説明
- 使用場面
- 実践的な例
- カスタマイズとテーマ対応
- パフォーマンスの考慮事項
- アクセシビリティ
- ベストプラクティス
```

## 6. 文体と表現の統一

### 体言止めの使用

- すべてのドキュメントページで体言止めを使用し、ですます調は避ける
- 理由：簡潔性と技術文書らしさを保つため
- 例：
  - ❌「〜です」「〜します」「〜できます」
  - ✅「〜である」「〜する」「〜可能」

### 説明文の簡潔性

- 冗長な表現を避け、要点を端的に述べる
- 技術的正確性を保ちながら、読みやすさを重視
- 箇条書きを効果的に活用し、情報を整理して提示

## 7. 説明の充実度

- 「なぜそのスタイル指定をするのか」を明確に説明
- 「どのような効果があるのか」を具体的に記述
- CSS のスタイル指定の意味を詳しく解説
- MUI v7 の具体的な使い方を豊富なコード例で示す
- Tailwind v4 の使い方も適宜説明に含める

## 8. コード例の質

### 良いコード例の特徴

- 実際のプロジェクトで使用可能
- エラーハンドリングを適切に含む
- TypeScript の型安全性を活用
- パフォーマンスを考慮した実装
- アクセシビリティに配慮

### 避けるべきコード例

- 実装できない理論的なコード
- エラーハンドリングが不十分
- パフォーマンスに問題がある実装
- アクセシビリティを無視した実装

## 9. エラーハンドリングと品質保証

- **エラーの徹底的な排除**: Lint エラー、コンパイルエラー、実行時エラーなど、すべてのエラーを検出し修正する。エラーが解消されるまで繰り返し確認を行うこと。
- **動作確認の徹底**: 作成・編集したコンポーネントやドキュメントは、必ず実際の表示や動作を確認する。特にインタラクティブな要素は、様々な操作パターンを試し、意図通りに機能することを保証する。

## 10. ドキュメントと実装の同期

- **ナビゲーションの更新**: 新しいドキュメントページを作成または既存ページを大幅に更新した場合、サイドバーや目次など、関連するナビゲーション要素も必ず更新する。ユーザーが新しい情報に容易にアクセスできるようにするため。
- **情報の正確性**: ドキュメントに記載する情報は、常に最新かつ正確であることを保証する。API の変更や機能の追加・削除があった場合は、速やかにドキュメントを更新する。

## 11. CodePreview コンポーネントのメンテナンス

### MUI コンポーネントの追加・削除ルール

CodePreview コンポーネントは `react-jsx-parser` を使用してコード例を実行可能な形で表示します。
ドキュメントで新しい MUI コンポーネントを使用する場合は、必ず以下の手順を実行してください：

```tsx
// ❌ 悪い例：CodePreview でコンポーネントが未定義
<CodePreview
  code={`
    <Avatar sx={{ width: 40, height: 40 }}>A</Avatar>
  `}
/>
// → エラー：Avatar is not defined

// ✅ 良い例：事前に CodePreview コンポーネントに追加
```

### 必要な手順

1. **import 文に追加**

```tsx
// src/components/parts/CodePreview/index.tsx
import {
  Typography,
  Box,
  // ...existing imports...
  Avatar, // 新しいコンポーネントを追加
} from "@mui/material";
```

2. **component オブジェクトに追加**

```tsx
const component = {
  Typography,
  Box,
  // ...existing components...
  Avatar, // 新しいコンポーネントを追加
};
```

### メンテナンス時の注意点

- ドキュメント作成時に新しい MUI コンポーネントを使用した場合、必ず CodePreview に追加する
- 使用されなくなったコンポーネントは定期的に削除してコードを整理する
- コンポーネント追加時は ESLint エラーが出ないよう import と component オブジェクトの両方に追加する

### 対象となるコンポーネント

MUI Material-UI の以下のようなコンポーネントが対象：

- レイアウト系：`Box`, `Container`, `Stack`, `Grid` 等
- 表示系：`Typography`, `Avatar`, `Skeleton`, `CircularProgress` 等
- インタラクション系：`Button`, `TextField`, `Select` 等
- フィードバック系：`Alert`, `Snackbar`, `Dialog` 等

## 12. ページコンポーネントの構造

- 新しくページコンポーネントを作成する際は、原則として `BaseTemplate` コンポーネントを使用する。
  - `BaseTemplate` は、ヘッダー、サイドバー、フッターなどの共通レイアウトを提供する。
  - ページ固有のコンテンツは、`BaseTemplate` の子要素として配置する。

例:

```tsx
import MyPageContent from "@/contents/MyPage";
import BaseTemplate from "@/features/Template";

const MyPage = () => {
  return (
    <BaseTemplate>
      <MyPageContent />
    </BaseTemplate>
  );
};

export default MyPage;
```
