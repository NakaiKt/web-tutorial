# ドキュメント作成規約

このファイルは、本プロジェクトで作成するすべてのコンポーネントドキュメントに共通する規約です。

## 1. 統一されたドキュメント形式

- Typography ドキュメントと同様の構造に従う
- `CodePreview`と`CodeBlock`を適切に使い分ける
  - `CodePreview`: 実際に実行可能なコード例（ユーザーが操作・体験できる）
  - `CodeBlock`: 説明用の静的コード例（実装方法の詳細解説）
- 実際のコンポーネント使用例を含める
- 段階的で詳細な説明を提供する

## 2. インタラクティブな例のベストプラクティス

- **体験 → 実装** の順序で説明する
  1. まず`CodePreview`で動作を体験させる
  2. 次に`CodeBlock`で実装コードを詳しく解説
- ボタンによる状態切り替えで学習効果を高める
- 実際の API フェッチをシミュレートした例を提供する
- ローディング時間は 2-3 秒程度に設定し体験しやすくする

## 3. CodePreview と CodeBlock の使い分け

### CodePreview

- すぐに動作確認したい基本的な例
- バリアントや設定の違いを比較する場合
- ユーザーが直接操作・体験できるコンテンツ

### CodeBlock

- 複雑な実装の詳細解説
- 実際のプロジェクトで使用する完全なコード例
- useState、useEffect などのフック使用例
- エラーハンドリングを含む実装例

## 4. コードインデントルール

- **一番親の要素は半角スペース 2 つ分のインデント**で統一する
- CodePreview、CodeBlock ともに表示に反映されるため、見やすさを重視
- ネストした要素は適切にインデントを追加する

### ✅ 正しいインデント例

```tsx
code={`
  <Component variant="primary" sx={{ fontSize: '1rem' }} />
  <Box>
    <ChildComponent width={40} height={40} />
  </Box>
`}
```

### ❌ 間違ったインデント例

```tsx
code={`
<Component variant="primary" sx={{ fontSize: '1rem' }} />
        <Box>
          <ChildComponent width={40} height={40} />
        </Box>
`}
```

## 5. 必須セクション構成

各コンポーネントドキュメントには以下のセクションを含めることを推奨します：

```
- 基本（バリアント説明）
- 従来との違い（該当する場合）
- 各機能の詳細説明
- 使用場面
- 実践的な例
- カスタマイズとテーマ対応
- パフォーマンスの考慮事項
- アクセシビリティ
- ベストプラクティス
```

## 6. 説明の充実度

- 「なぜそのスタイル指定をするのか」を明確に説明
- 「どのような効果があるのか」を具体的に記述
- CSS のスタイル指定の意味を詳しく解説
- MUI v7 の具体的な使い方を豊富なコード例で示す
- Tailwind v4 の使い方も適宜説明に含める

## 7. コード例の質

### 良いコード例の特徴

- 実際のプロジェクトで使用可能
- エラーハンドリングを適切に含む
- TypeScript の型安全性を活用
- パフォーマンスを考慮した実装
- アクセシビリティに配慮

### 避けるべきコード例

- 実装できない理論的なコード
- エラーハンドリングが不十分
- パフォーマンスに問題がある実装
- アクセシビリティを無視した実装

## 8. MUI v7 特有のガイドライン

- `sx` プロパティの活用方法を詳しく説明
- テーマカスタマイズの実例を提供
- レスポンシブデザインの実装例を含める
- ダークモード対応の方法を説明

## 9. 学習効果を高めるポイント

- 段階的な難易度設定
- 実際の使用場面を想定した例
- よくある間違いとその解決方法
- パフォーマンス最適化のテクニック
- アクセシビリティのベストプラクティス

## 10. CodePreview コンポーネントのメンテナンス

### MUI コンポーネントの追加・削除ルール

CodePreview コンポーネントは `react-jsx-parser` を使用してコード例を実行可能な形で表示します。
ドキュメントで新しい MUI コンポーネントを使用する場合は、必ず以下の手順を実行してください：

```tsx
// ❌ 悪い例：CodePreview でコンポーネントが未定義
<CodePreview
  code={`
    <Avatar sx={{ width: 40, height: 40 }}>A</Avatar>
  `}
/>
// → エラー：Avatar is not defined

// ✅ 良い例：事前に CodePreview コンポーネントに追加
```

### 必要な手順

1. **import 文に追加**

```tsx
// src/components/parts/CodePreview/index.tsx
import {
  Typography,
  Box,
  // ...existing imports...
  Avatar, // 新しいコンポーネントを追加
} from "@mui/material";
```

2. **component オブジェクトに追加**

```tsx
const component = {
  Typography,
  Box,
  // ...existing components...
  Avatar, // 新しいコンポーネントを追加
};
```

### メンテナンス時の注意点

- ドキュメント作成時に新しい MUI コンポーネントを使用した場合、必ず CodePreview に追加する
- 使用されなくなったコンポーネントは定期的に削除してコードを整理する
- コンポーネント追加時は ESLint エラーが出ないよう import と component オブジェクトの両方に追加する

### 対象となるコンポーネント

MUI Material-UI の以下のようなコンポーネントが対象：

- レイアウト系：`Box`, `Container`, `Stack`, `Grid` 等
- 表示系：`Typography`, `Avatar`, `Skeleton`, `CircularProgress` 等
- インタラクション系：`Button`, `TextField`, `Select` 等
- フィードバック系：`Alert`, `Snackbar`, `Dialog` 等
